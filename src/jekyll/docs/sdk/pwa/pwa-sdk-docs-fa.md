---
layout: classic-docs
title: SDK PWA
lang: fa
permalink: /sdk/pwa/index.html
toc: true # table of contents
---


### دریافت کتابخانه
فایل کتابخانه متریکس را می‌توانید از [اینجا](https://github.com/metrixorg/MetrixSDK-Web/raw/master/dist/metrix.js) دریافت و به پروژه خود اضافه نمایید.

### تنظیمات اولیه

`appId`: کلید اپلیکیشن شما که از پنل متریکس آن را دریافت می‌کنید.

`uniqueDeviceId`: یک آیدی یونیک که توسط اپلیکیشن شما ساخته میشود مانند androidAdId که توسط این آیدی بتوان کاربر را یکتا سازی کرد.(غیر ضروری)

`trackerToken`: توکنی که پس از ساخت ترکر از پنل دریافت میکنید.(غیر ضروری)

```javascript
import metrix from '<path-to-metrix.js>'


var _metrix = metrix.initialize({
	appId: 'zozazzcrpzaptaa',
	uniqueDeviceId: 'fe3343ff444r4',
	trackerToken: 'rebhyh',
});
```
 
### ساختن یک رویداد سفارشی

با استفاده از این تابع می‌توانید یک رویداد سفارشی بسازید. برای این کار شما در ابتدا باید در داشبورد متریکس از قسمت مدیریت رخدادها، رخداد موردنظر خود را ثبت کنید و نامک (slug) آن را بعنوان نام رخداد در sdk استفاده کنید.

این تابع را به دو صورت می‌توانید صدا بزنید:

۱. یک رویداد سفارشی که فقط یک نامک مشخص دارد و آن را از داشبورد متریکس میگیرد، بسازید:

```javascript
_metrix.sendEvent('my_event_slug');
```

ورودی این تابع از جنس String است و همان نامکی است که داشبورد دریافت می‌کنید.

۲. یک رویداد سفارشی با تعداد دلخواه attribute خاص سناریو خود بسازید، به عنوان مثال فرض کنید در یک برنامه خرید آنلاین می‌خواهید یک رویداد سفارشی بسازید:

```javascript
var attributes = {};
attributes['first_name'] = 'Ali';
attributes['last_name'] = 'Bagheri';
attributes['manufacturer'] = 'Nike';
attributes['product_name'] = 'shirt';
attributes['type'] = 'sport';
attributes['size'] = 'large';

_metrix.sendEvent('purchase_event_slug', attributes);
```

ورودی‌های متد sendCustomTrack بدین شرح هستند:

- **ورودی اول:** نامک رویداد مورد نظر شما که از جنس String است و آن را از داشبورد متریکس دریافت می‌کنید.
- **ورودی دوم:** یک `Map<String, String>` که ویژگی‌های یک رویداد را مشخص می‌کند.

### ساختن رویداد درآمدی

با استفاده از این تابع می‌توانید یک رویداد درآمدی بسازید. برای این کار شما در ابتدا باید در داشبورد متریکس از قسمت مدیریت رخدادها، رخداد موردنظر خود را ثبت کنید و نامک (slug) آن را بعنوان نام رخداد در sdk استفاده کنید.

این تابع را به صورت زیر می‌توانید صدا بزنید:

۱. یک رویداد سفارشی که فقط یک نامک مشخص دارد و آن را از داشبورد متریکس میگیرد، بسازید:

```javascript
_metrix.sendRevenue('my_event_slug', 12000, 'IRR', 'order id');
```

ورودی اول همان نامکی است که از داشبورد دریافت می‌کنید.

دومین وروی تابع یک مقدار است که همان مقدار درآمد است.

سومین ورودی واحد پول این رخداد است که در صورت قرار ندادن مقدار آن واحد پیشفرض ریال است در زیر مقادیر آن را میتوانید ببینید.

1. `IRR` ریال
2. `USD` دلار
3. `EUR` یورو

ورودی چهارم که به صورت دلخواه است میتواند شماره سفارش شما باشد.

### مشخص کردن Attribute‌های پیش‌فرض همه‌ی رویدادها

با استفاده از این تابع می‌توانید به تعداد دلخواه `Attribute` به همه‌ی رویدادهای خود اضافه کنید:

```javascript
var attributes = {};
attributes['manufacturer'] = 'Nike';

_metrix.addUserAttributes(attributes);
```
